<form
  id="registerForm"
  action="http://localhost:5000/v1/auth/createUser"
  method="POST"
>
  <label for="memberName">Member Name:</label>
  <input type="text" id="memberName" name="memberName" required />
  <br /><br />
  <label for="password">Password:</label>
  <input type="password" id="password" name="password" required />
  <br /><br />
  <label for="name">Name:</label>
  <input type="text" id="name" name="name" required />
  <br /><br />
  <label for="yob">Year of Birth:</label>
  <input type="date" id="yob" name="yob" required />
  <br /><br />
  <button id="registerButton" type="submit">Register</button>
</form>
<a href="/">
  <button>Back</button>
</a>

<script>
  document
    .getElementById("registerButton")
    .addEventListener("click", function (event) {
      event.preventDefault();

      var form = document.getElementById("registerForm");

      var data = {
        memberName: form.memberName.value,
        password: form.password.value,
        name: form.name.value,
        yob: form.yob.value,
      };

      fetch(form.action, {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify(data),
      })
        .then((response) => {
          if (response.status === 200) {
            alert("Registration successful");
            window.location.href = "/login";
          } else {
            alert("Error registering");
          }
        })
        .catch((error) => {
          console.error("Error:", error);
        });
    });
</script>
